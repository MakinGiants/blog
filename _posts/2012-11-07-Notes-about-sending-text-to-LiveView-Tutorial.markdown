---
title: Notes about sending text to LiveView Tutorial
layout: post
date: 2012-11-07 17:31:00 UTC
updated: 2015-02-08 19:42:32 UTC
comments: false
categories: Android LiveView
---
<br /><h3>Useful&nbsp;Links</h3><div><a href="http://www.4shared.com/zip/yib9g45x/LiveView_SDK_v101.html">LiveView SDK  1.01 And Code Sample</a></div><div><br /></div><div><a href="http://www.4shared.com/office/i3jYqkx6/LiveView_tutorial_v10.html">LiveView Devel Tutorial</a><br /><br /><a href="http://developer.sonymobile.com/knowledge-base/tool-guides/create-android-plug-ins-for-liveview-micro-display/">LiveView Offical Page</a></div><div><br /></div><h3>Tutorial</h3><ul><li>Use method sendTextBitmap from PluginUtils:</li></ul><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> PluginUtils.sendTextBitmap(mLiveViewAdapter, mPluginId, text, bitmapSizeX, fontSize);  <br /></code></pre><br />It work's but it will put the text in the center of the liveview, but what if you want to put text in new lines? this will not work. To do this you have to create a bitmap (you can make a beauty background image with size 128x128, see liveview tutorial pdf)<br /><br /><ul><li>Create an empty bitmap and add text to it:</li></ul><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">// Create empty bitmap (background</code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">Bitmap.Config conf = Bitmap.Config.RGB_565; // see other conf types  <br />Bitmap bitmap = Bitmap.createBitmap(PluginConstants.LIVEVIEW_SCREEN_X,  <br />               PluginConstants.LIVEVIEW_SCREEN_Y, conf); // this creates a MUTABLE bitmap  <br /></code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">// Create canvas with background bitmap </code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">Canvas canvas = new Canvas(bitmap); &nbsp;</code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"><br /></code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">// Define text to send<br />String text = "This text"; &nbsp;</code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"><br /></code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">// Create Paint with colors, textsize and centered<br />Paint paint = new Paint();  <br />paint.setColor(Color.WHITE);  <br />paint.setTextSize(20); // Text Size  <br />paint.setTypeface(Typeface.SANS_SERIF);  <br />paint.setShadowLayer(5.0f, 1.0f, 1.0f, Color.rgb(255, 230, 175));  <br />paint.setAntiAlias(true);  <br />paint.setTextAlign(Align.CENTER); &nbsp;</code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"><br /></code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">// Draw text centered with created paint on canvas <br />canvas.drawText(text, (PluginConstants.LIVEVIEW_SCREEN_X - text.length()) / 2, 40, paint);  <br /></code></pre><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">// Send bitmap with new text to liveview<br />PluginUtils.sendScaledImage(mLiveViewAdapter, mPluginId, bitmap);  <br /></code></pre><br /><ul><li>Send text with background image (depends on the app you will want to show some images or some lines and design...). You need to change The first two lines of code of last example to change the empty bitmap to a bitmap from resources:</li></ul><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">InputStream is = this.getResources().openRawResource(id);  <br />Bitmap background = BitmapFactory.decodeStream(is).copy(Bitmap.Config.RGB_565, true);  <br /></code></pre><br /><h3>Notes</h3><br /><ul><li>Colos of the bitmap must have<span style="background-color: #f0f0f0; font-family: arial; font-size: 12px; line-height: 20px;">&nbsp;RGB_565</span>&nbsp;colors (check LiveView SDK Documentation)</li></ul>