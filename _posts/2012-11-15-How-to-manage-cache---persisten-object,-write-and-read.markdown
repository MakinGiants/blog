---
title: How to manage cache - persisten object,  write and read
layout: post
date: 2012-11-15 00:44:00 UTC
updated: 2015-02-08 19:42:31 UTC
comments: false
categories: Android
---
<br />Code:<br /><br /><span style="background-color: #f8f8f8; color: #222222; font-family: monospace; font-size: 10px; line-height: 13px;">// Writing</span><br /><ol style="background-color: #f8f8f8; color: #222222; font-family: monospace; font-size: 10px; line-height: 12px; list-style-position: outside; margin: 0px; padding: 0px 0px 0px 4em;"><li class="li1" style="line-height: 1.3; margin: 0px; padding: 0px;"><div class="de1"><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Afileoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky" style="color: #34618d; text-decoration: initial;">FileOutputStream</a>&nbsp;fos&nbsp;<span class="sy0">=</span>&nbsp;context.<span class="me1">openFileOutput</span><span class="br0">(</span>SAVENAME, context.<span class="me1">MODE_PRIVATE</span><span class="br0">)</span><span class="sy0">;</span></div></li><li class="li1" style="line-height: 1.3; margin: 0px; padding: 0px;"><div class="de1"><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aobjectoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky" style="color: #34618d; text-decoration: initial;">ObjectOutputStream</a>&nbsp;oos&nbsp;<span class="sy0">=</span>&nbsp;<span class="kw1">new</span>&nbsp;<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aobjectoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky" style="color: #34618d; text-decoration: initial;">ObjectOutputStream</a><span class="br0">(</span>fos<span class="br0">)</span><span class="sy0">;</span></div></li><li class="li1" style="line-height: 1.3; margin: 0px; padding: 0px;"><div class="de1">oos.<span class="me1">writeObject</span><span class="br0">(</span><span class="kw1">object</span><span class="br0">)</span><span class="sy0">;</span>&nbsp;oos.<span class="me1">close</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span></div></li></ol><div class="de1" style="background-color: #f8f8f8; color: #222222; font-family: monospace; font-size: 10px; line-height: 1.3;"><span class="co1"><br /></span></div><div class="de1" style="background-color: #f8f8f8; color: #222222; font-family: monospace; font-size: 10px; line-height: 1.3;"><span class="co1">// Reading it back..</span></div><ol style="background-color: #f8f8f8; color: #222222; font-family: monospace; font-size: 10px; line-height: 12px; list-style-position: outside; margin: 0px; padding: 0px 0px 0px 4em;"><li class="li2" style="line-height: 1.3; margin: 0px; padding: 0px;"><div class="de2"><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Afileinputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky" style="color: #34618d; text-decoration: initial;">FileInputStream</a>&nbsp;fis&nbsp;<span class="sy0">=</span>&nbsp;context.<span class="me1">openFileInput</span><span class="br0">(</span>SAVENAME<span class="br0">)</span><span class="sy0">;</span></div></li><li class="li1" style="line-height: 1.3; margin: 0px; padding: 0px;"><div class="de1"><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aobjectinputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky" style="color: #34618d; text-decoration: initial;">ObjectInputStream</a>&nbsp;ois&nbsp;<span class="sy0">=</span>&nbsp;<span class="kw1">new</span>&nbsp;<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Aobjectinputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky" style="color: #34618d; text-decoration: initial;">ObjectInputStream</a><span class="br0">(</span>is<span class="br0">)</span><span class="sy0">;</span></div></li><li class="li1" style="line-height: 1.3; margin: 0px; padding: 0px;"><div class="de1"></div></li><li><span style="line-height: 1.3;">Flow f&nbsp;</span><span class="sy0" style="line-height: 1.3;">=</span><span style="line-height: 1.3;">&nbsp;</span><span class="br0" style="line-height: 1.3;">(</span><span style="line-height: 1.3;">Flow</span><span class="br0" style="line-height: 1.3;">)</span><span style="line-height: 1.3;">&nbsp;ois.</span><span class="me1" style="line-height: 1.3;">readObject</span><span class="br0" style="line-height: 1.3;">(</span><span class="br0" style="line-height: 1.3;">)</span><span class="sy0" style="line-height: 1.3;">; //If the object is of type Flow</span></li></ol><div class="de1" style="color: #222222; font-family: monospace; font-size: 10px; line-height: 1.3;"><br /></div><br /><u>If you write a custom class, it must implement&nbsp;Serializable and if you want add&nbsp;@SuppressWarnings<span class="s1">(</span><span class="s2">"serial"</span><span class="s1">) to the top of the class definition.</span></u><br /><br />You can write one object, an arraylist of objects, or any type with this code.<br /><br /><a href="http://www.helloandroid.com/tutorials/data-storage-tutorial-basic-samples-are-included">Source</a><br />